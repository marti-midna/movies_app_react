{"version":3,"file":"static/js/addmovie.2f9abc82.chunk.js","mappings":"gMACA,EAAuB,qB,oCCIhB,SAASA,EAAT,GAAgF,IAA/DC,EAA8D,EAA9DA,iBAAkBC,EAA4C,EAA5CA,+BAAgCC,EAAY,EAAZA,SACxE,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KACA,GAA4BN,EAAAA,EAAAA,UAAS,IAArC,eAAOO,EAAP,KAAeC,EAAf,KACA,GAAsCR,EAAAA,EAAAA,UAAS,IAA/C,eAAOS,EAAP,KAAoBC,EAApB,KAIMC,GADWC,EAAAA,EAAAA,IAAY,IACJC,SAASC,MAAM,KAAKC,UAAU,GAGjDC,EAAoB,SAACX,GAAD,OAAYA,EAAOS,MAAM,MAE7CG,EAAW,mCAAG,WAAOC,GAAP,oEAClBA,EAAEC,iBACFC,QAAQC,IAAI,wBAAsB,CAChCpB,MAAAA,EACAE,KAAAA,EACAE,OAAQW,EAAkBX,GAC1BE,OAAAA,EACAE,YAAAA,IAGe,aAAbV,EAVc,iCAWVuB,EAAAA,EAAAA,IAAS,CACbrB,MAAAA,EACAE,KAAAA,EACAE,OAAQW,EAAkBX,GAC1BE,OAAAA,EACAE,YAAAA,IAhBc,OAkBhBZ,IAlBgB,yCAqBV0B,EAAAA,EAAAA,IAAIZ,EAAS,CACjBV,MAAAA,EACAE,KAAAA,EACAE,OAAQW,EAAkBX,GAC1BE,OAAAA,EACAE,YAAAA,IA1Bc,QA6BhBX,IA7BgB,4CAAH,sDAiCjB,OACE,gBAAK0B,UAAWC,EAAhB,UACE,kBAAMC,SAAUT,EAAhB,WACE,kBACEU,MAAO1B,EACP2B,SAAU,SAACV,GAAD,OAAOhB,EAASgB,EAAEW,OAAOF,QACnCG,KAAK,OACLC,GAAG,QACHC,KAAK,QACLC,YAAY,cACZC,UAAQ,KAGV,kBACEP,MAAOpB,EACPqB,SAAU,SAACV,GAAD,OAAOV,EAAUU,EAAEW,OAAOF,QACpCG,KAAK,OACLC,GAAG,SACHC,KAAK,SACLC,YAAY,SACZC,UAAQ,KAGV,kBACEP,MAAOxB,EACPyB,SAAU,SAACV,GAAD,OAAOd,EAAQc,EAAEW,OAAOF,QAClCG,KAAK,OACLC,GAAG,OACHC,KAAK,OACLC,YAAY,OACZC,UAAQ,KAGV,kBACEP,MAAOlB,EACPmB,SAAU,SAACV,GAAD,OAAOR,EAAeQ,EAAEW,OAAOF,QACzCG,KAAK,OACLC,GAAG,cACHC,KAAK,cACLC,YAAY,cACZE,UAAU,MACVD,UAAQ,KAGV,kBACEP,MAAOtB,EACPuB,SAAU,SAACV,GAAD,OAAOZ,EAAUY,EAAEW,OAAOF,QACpCG,KAAK,OACLC,GAAG,QACHC,KAAK,QACLC,YAAY,SACZE,UAAU,KACVD,UAAQ,KAGV,kBAAOJ,KAAK,SAASH,MAAM,oB,iEC1GnC,MAA2B,yB,2BCkC1B,MA7BD,SAAkBS,GAChB,IAAMC,GAAWC,EAAAA,EAAAA,MAWjB,OACE,+BAME,iBAAKd,UAAWC,EAAhB,WACE,yFACA,SAAC7B,EAAA2C,EAAD,CACE1C,iBAnBe,WACrBuB,QAAQC,IAAI,iBACZe,EAAMI,YAAY,CAChBC,SAAS,EACTC,QAAS,iBAEXL,EAAS,MAcHtC,SAAS","sources":["webpack://movies_app_react/./src/components/Input/styles.module.scss?22bd","components/Input/index.jsx","webpack://movies_app_react/./src/pages/AddMovie/styles.module.scss?5bde","pages/AddMovie/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Form\":\"styles_Form__YcJeC\"};","import styles from \"./styles.module.scss\";\nimport { useState } from \"react\";\nimport { addMovie, PUT } from \"../../utils\";\nimport { useLocation} from \"react-router-dom\";\n\nexport function Input({ completeCallback, dicoadAddMoviechehofattounaput, callType }) {\n  const [title, setTitle] = useState(\"\");\n  const [year, setYear] = useState(\"\");\n  const [genres, setGenres] = useState(\"\");\n  const [poster, setPoster] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n\n  const location = useLocation('');\n  const movieId = location.pathname.split('/').reverse()[0];\n\n\n  const unStringifyGenres = (genres) => genres.split(\",\");\n\n  const addNewMovie = async (e) => {\n    e.preventDefault();\n    console.log(\"-->>>>POST TUO QUI\", {\n      title,\n      year,\n      genres: unStringifyGenres(genres),\n      poster,\n      description,\n    });\n\n    if (callType === \"addMovie\") {\n      await addMovie({\n        title,\n        year,\n        genres: unStringifyGenres(genres),\n        poster,\n        description,\n      });\n      completeCallback();\n\n    } else {\n      await PUT(movieId, {\n        title,\n        year,\n        genres: unStringifyGenres(genres),\n        poster,\n        description,\n      });\n\n      dicoadAddMoviechehofattounaput();\n    }\n  };\n\n  return (\n    <div className={styles.Form}>\n      <form onSubmit={addNewMovie}>\n        <input\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          type=\"text\"\n          id=\"title\"\n          name=\"title\"\n          placeholder=\"titolo film\"\n          required\n        />\n\n        <input\n          value={poster}\n          onChange={(e) => setPoster(e.target.value)}\n          type=\"text\"\n          id=\"poster\"\n          name=\"poster\"\n          placeholder=\"poster\"\n          required\n        />\n\n        <input\n          value={year}\n          onChange={(e) => setYear(e.target.value)}\n          type=\"text\"\n          id=\"year\"\n          name=\"year\"\n          placeholder=\"year\"\n          required\n        />\n\n        <input\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          type=\"text\"\n          id=\"description\"\n          name=\"description\"\n          placeholder=\"description\"\n          maxLength=\"165\"\n          required\n        />\n\n        <input\n          value={genres}\n          onChange={(e) => setGenres(e.target.value)}\n          type=\"text\"\n          id=\"genre\"\n          name=\"genre\"\n          placeholder=\"genere\"\n          maxLength=\"62\"\n          required\n        />\n\n        <input type=\"submit\" value=\"Conferma\" />\n      </form>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"AddMovie\":\"styles_AddMovie__1qqoB\",\"Modal\":\"styles_Modal__0sIhQ\"};","import styles from \"./styles.module.scss\";\nimport { Input } from \"../../components/Input\";\n// import { Modal } from \"../../components/Modal\";\n// import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction AddMovie(props) {\n  const navigate = useNavigate();\n\n  const submitComplete = () => {\n    console.log(\"submit andato\");\n    props.editSuccess({\n      visible: true,\n      content: \"Card creata!\",\n    });\n    navigate(\"/\");\n  };\n\n  return (\n    <>\n      {/* <Modal\n        isVisible={isModalVisible}\n        text=\"Fantastico! Hai aggiunto correttamente un film alla tua lista! Torna alla Home\"\n      /> */}\n\n      <div className={styles.AddMovie}>\n        <h2>Compila tutti i campi per aggiungere un film alla tua lista</h2>\n        <Input\n          completeCallback={submitComplete}\n          callType=\"addMovie\"\n        />\n      </div>\n    </>\n  );\n}\n export default AddMovie"],"names":["Input","completeCallback","dicoadAddMoviechehofattounaput","callType","useState","title","setTitle","year","setYear","genres","setGenres","poster","setPoster","description","setDescription","movieId","useLocation","pathname","split","reverse","unStringifyGenres","addNewMovie","e","preventDefault","console","log","addMovie","PUT","className","styles","onSubmit","value","onChange","target","type","id","name","placeholder","required","maxLength","props","navigate","useNavigate","I","editSuccess","visible","content"],"sourceRoot":""}