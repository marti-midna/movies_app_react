"use strict";(self.webpackChunkmovies_app_react=self.webpackChunkmovies_app_react||[]).push([[122],{204:function(e,t,n){n.d(t,{I:function(){return d}});var r=n(861),a=n(885),o=n(757),u=n.n(o),i="styles_Form__YcJeC",c=n(791),s=n(457),p=n(871),l=n(184);function d(e){var t=e.completeCallback,n=e.dicoadAddMoviechehofattounaput,o=e.callType,d=(0,c.useState)(""),f=(0,a.Z)(d,2),h=f[0],m=f[1],v=(0,c.useState)(""),x=(0,a.Z)(v,2),g=x[0],y=x[1],k=(0,c.useState)(""),b=(0,a.Z)(k,2),j=b[0],C=b[1],S=(0,c.useState)(""),O=(0,a.Z)(S,2),w=O[0],Z=O[1],_=(0,c.useState)(""),T=(0,a.Z)(_,2),q=T[0],N=T[1],J=(0,p.TH)("").pathname.split("/").reverse()[0],M=function(e){return e.split(",")},E=function(){var e=(0,r.Z)(u().mark((function e(r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),console.log("--\x3e>>>POST TUO QUI",{title:h,year:g,genres:M(j),poster:w,description:q}),"addMovie"!==o){e.next=8;break}return e.next=5,(0,s.dO)({title:h,year:g,genres:M(j),poster:w,description:q});case 5:t(),e.next=11;break;case 8:return e.next=10,(0,s.uO)(J,{title:h,year:g,genres:M(j),poster:w,description:q});case 10:n();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.jsx)("div",{className:i,children:(0,l.jsxs)("form",{onSubmit:E,children:[(0,l.jsx)("input",{value:h,onChange:function(e){return m(e.target.value)},type:"text",id:"title",name:"title",placeholder:"titolo film",required:!0}),(0,l.jsx)("input",{value:w,onChange:function(e){return Z(e.target.value)},type:"text",id:"poster",name:"poster",placeholder:"poster",required:!0}),(0,l.jsx)("input",{value:g,onChange:function(e){return y(e.target.value)},type:"text",id:"year",name:"year",placeholder:"year",required:!0}),(0,l.jsx)("input",{value:q,onChange:function(e){return N(e.target.value)},type:"text",id:"description",name:"description",placeholder:"description",maxLength:"165",required:!0}),(0,l.jsx)("input",{value:j,onChange:function(e){return C(e.target.value)},type:"text",id:"genre",name:"genre",placeholder:"genere",maxLength:"62",required:!0}),(0,l.jsx)("input",{type:"submit",value:"Conferma"})]})})}},314:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r="styles_AddMovie__1qqoB",a=n(204),o=n(871),u=n(184);var i=function(e){var t=(0,o.s0)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:r,children:[(0,u.jsx)("h2",{children:"Compila tutti i campi per aggiungere un film alla tua lista"}),(0,u.jsx)(a.I,{completeCallback:function(){console.log("submit andato"),e.editSuccess({visible:!0,content:"Card creata!"}),t("/")},callType:"addMovie"})]})})}},457:function(e,t,n){n.d(t,{XT:function(){return u},Zf:function(){return c},dO:function(){return s},uO:function(){return p}});var r=n(861),a=n(757),o=n.n(a);function u(){return i.apply(this,arguments)}function i(){return i=(0,r.Z)(o().mark((function e(){var t,n,r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,fetch("https://edgemony-backend.herokuapp.com/movies/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,console.log(n,r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}var c=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://edgemony-backend.herokuapp.com/movies/".concat(t),{method:"DELETE",headers:{"content-type":"application/JSON"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://edgemony-backend.herokuapp.com/movies",{method:"POST",headers:{"content-type":"application/JSON"},body:JSON.stringify(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e,t){return fetch("".concat("https://edgemony-backend.herokuapp.com/movies","/").concat(e),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)})}}}]);
//# sourceMappingURL=addmovie.02c14f5f.chunk.js.map